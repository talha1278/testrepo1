{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "firewallPolicy1Name": { "type": "string" },
    "ruleCollectionGroupName": { "type": "string" },
    "firewallRuleName": { "type": "string" },
    "firewallRulePriority": { "type": "int" },
    "firewallRuleAction": { "type": "string" },
    "firewallRuleSourceAddresses": { "type": "array" },
    "firewallRuleDestinationAddresses": { "type": "array" },
    "firewallRuleDestinationPorts": { "type": "array" },
    "firewallRuleProtocol": { "type": "string" }
  },
  "resources": [
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2021-04-01",
      "name": "FirewallPolicyRuleCollectionGroupDeployment",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "https://raw.githubusercontent.com/talha1278/testrepo1/main/templates/firewall_collection_rules.json",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "firewallPolicyName": { "value": "[parameters('firewallPolicy1Name')]" },
          "ruleCollectionGroupName": { "value": "[parameters('ruleCollectionGroupName')]" },
          "firewallRuleName": { "value": "[parameters('firewallRuleName')]" },
          "firewallRulePriority": { "value": "[parameters('firewallRulePriority')]" },
          "firewallRuleAction": { "value": "[parameters('firewallRuleAction')]" },
          "firewallRuleSourceAddresses": { "value": "[parameters('firewallRuleSourceAddresses')]" },
          "firewallRuleDestinationAddresses": { "value": "[parameters('firewallRuleDestinationAddresses')]" },
          "firewallRuleDestinationPorts": { "value": "[parameters('firewallRuleDestinationPorts')]" },
          "firewallRuleProtocol": { "value": "[parameters('firewallRuleProtocol')]" }
        }
      }
    }
  ]
}
